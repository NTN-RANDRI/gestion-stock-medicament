<style>
  input.ng-touched.ng-invalid, select.ng-touched.ng-invalid {
    outline: 2px solid var(--destructive);
  }
</style>

<main class="h-screen bg-background text-foreground font-sans flex items-center justify-center p-4 bg-gradient-to-br from-blue-50 to-white">
  <div class="w-full max-w-md">
    <div class="bg-white shadow-2xl rounded-xl overflow-hidden border border-border/50 backdrop-blur-sm">
      <div class="p-8">
        <div class="flex flex-col items-center mb-8">
          <div class="w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-4">
              <i class="fas fa-user-plus text-3xl text-primary"></i>
          </div>
          <h1 class="text-2xl font-bold text-center">Créer un compte</h1>
          <p class="text-muted-foreground mt-2">Remplissez les informations pour vous inscrire</p>
        </div>

        <form [formGroup]="registerFormData" (submit)="register($event)" class="space-y-4">
          <div class="space-y-2">
            <label for="nom" class="label">Nom complet</label>
            <div class="relative">
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-muted-foreground/50">
                <i class="fas fa-user"></i>
              </div>
              <input
                class="input-login"
                type="text"
                formControlName="nom"
              />
            </div>
            <p class="text-destructive" *ngIf="isInvalid('nom')">
              <span *ngIf="registerFormData.get('nom')?.hasError('required')">Champ requis</span>
            </p>
          </div>

          <div class="space-y-2">
            <label for="email" class="label">Email</label>
            <div class="relative">
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-muted-foreground/50">
                <i class="fas fa-envelope"></i>
              </div>
              <input
                class="input-login"
                type="text"
                formControlName="email"
              />
            </div>
            <p class="text-destructive" *ngIf="isInvalid('email')">
              <span *ngIf="registerFormData.get('email')?.hasError('required')">Champ requis</span>
              <span *ngIf="registerFormData.get('email')?.hasError('email')">E-mail non valide</span>
            </p>
          </div>

          <div class="space-y-2">
            <label for="role" class="label">Rôle</label>
            <div class="relative">
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-muted-foreground/50">
                <i class="fas fa-user-tag"></i>
              </div>
              <select id="role" class="select-login" formControlName="role">
                <option value="" disabled>Selectionner le rôle...</option>
                <option value="Admin">Admin</option>
                <option value="Gestionnaire">Gestionnaire</option>
                <option value="Réceptionniste">Réceptionniste</option>
              </select>
              <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-muted-foreground">
                <i class="fas fa-chevron-down"></i>
              </div>
            </div>
            <p class="text-destructive" *ngIf="isInvalid('role')">
              <span *ngIf="registerFormData.get('role')?.hasError('required')">Champ requis</span>
            </p>
          </div>

          <div class="space-y-2">
            <label for="motDePasse" class="label">Mot de passe</label>
            <div class="relative">
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-muted-foreground/50">
                <i class="fas fa-lock"></i>
              </div>
              <input
                class="input-login"
                type="password"
                formControlName="motDePasse"
              />
            </div>
            <p class="text-destructive" *ngIf="isInvalid('motDePasse')">
              <span *ngIf="registerFormData.get('motDePasse')?.hasError('required')">Champ requis</span>
              <span *ngIf="registerFormData.get('motDePasse')?.hasError('minlength')">Le mot de passe doit contenir au moins 8 caractères</span>
            </p>
          </div>

          <button type="submit" class="w-full mt-6 bg-primary hover:bg-primary/90 text-primary-foreground font-medium py-3 px-4caractères rounded-xl transition-all duration-200 ease-in-out shadow-md hover:shadow-lg active:scale-[0.98]">
            S'inscrire
          </button>
        </form>

        <div class="mt-6 text-center text-sm text-muted-foreground">
          Déjà un compte? <a routerLink="/login" class="font-medium text-primary hover:text-primary/80 transition-colors">Se connecter</a>
        </div>
      </div>
    </div>
  </div>
</main>
